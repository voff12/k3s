server.port=8080
# Set your K3s API URL (e.g., https://192.168.1.100:6443)
# TODO: Update this to your running K3s instance. 127.0.0.1:6443 is default.
# k8s.master.url=https://127.0.0.1:6443
# Set path to your K3s kubeconfig (e.g., /etc/rancher/k3s/k3s.yaml)
# Set path to your K3s kubeconfig (e.g., /etc/rancher/k3s/k3s.yaml)
k8s.kubeconfig=/etc/rancher/k3s/k3s.yaml

# Qwen AI Configuration
# 使用 OpenAI 兼容协议，更稳定
qwen.api.key=
# OpenAI 兼容协议 URL（中国区）
qwen.api.url=https://dashscope.aliyuncs.com/compatible-mode/v1
# 使用更稳定的模型：qwen-plus（推荐）或 qwen-max（更强）或 qwen-turbo（更快）
qwen.api.model=qwen-max

# Development configuration - Disable template cache
spring.thymeleaf.cache=false

# Harbor Registry Configuration
harbor.host=harbor.local
harbor.ip=60.205.252.82
harbor.project=library
harbor.username=admin
harbor.password=Harbor12345

# GitLab Configuration (optional, for private repo access)
gitlab.token=

# === Git 代理 (可选, 用于 K3s 节点无法直接访问 GitHub 的场景) ===
# 例如: http://host.k3d.internal:7890 或 socks5://10.0.0.1:1080
git.proxy=

# === 本地镜像仓库 (Kaniko 从这里拉 Dockerfile 基础镜像, prewarm-images.sh 会自动部署) ===
local.registry=localhost:5000

# === 流水线容器镜像 (离线模式: 需先执行 prewarm-images.sh 预热) ===
kaniko.image=registry.aliyuncs.com/kaniko-project/executor:latest
git.image=alpine:3.19
maven.image=maven:3.9-eclipse-temurin-17
loader.image=rancher/k3s:latest

# ===========================
# Actuator 健康检查
# ===========================
# 暴露 health 端点
management.endpoints.web.exposure.include=health,info
# 启用 Kubernetes 探针（/actuator/health/liveness, /actuator/health/readiness）
management.endpoint.health.probes.enabled=true
# 显示详细健康状态（UP/DOWN + 各组件状态）
management.endpoint.health.show-details=always
# Actuator 独立端口（与业务端口隔离，安全最佳实践）
management.server.port=8081

# ===========================
# Graceful Shutdown 优雅关闭
# ===========================
# 启用优雅关闭：收到 SIGTERM 后不再接受新请求，等待现有请求完成
server.shutdown=graceful
# 优雅关闭超时：最多等待 30 秒让进行中的请求完成
spring.lifecycle.timeout-per-shutdown-phase=30s
